<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AICharts â€“ Live Benchmarks</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background: #1e1e2f;
      color: #e0e0f0;
      margin: 0;
      padding: 0;
    }
    header {
      background: #12121c;
      color: #f0f0f0;
      text-align: center;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 2rem;
      gap: 1.5rem;
    }
    .card {
      background: #2a2a40;
      border-radius: 12px;
      padding: 1.5rem;
      width: 480px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      position: relative;
    }
    .card h2 {
      color: #fff;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    .badge {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background-color: #4fc3f7;
      color: #000;
      font-size: 0.7rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-weight: bold;
    }
    .badge.mock {
      background-color: #888;
      color: #eee;
    }
    canvas {
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header><h1>ðŸ“Š AICharts â€“ Live AI Benchmarks</h1></header>
  <div class="container">
    <div class="card" id="llmCard"><h2>ðŸ§  Chat LLMs</h2><span class="badge" id="llmBadge">Loading...</span><canvas id="llmChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸ“š Reasoning</h2><span class="badge mock">Mock</span><canvas id="reasoningChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸ’» Coding</h2><span class="badge mock">Mock</span><canvas id="codingChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸ¤– Agents</h2><span class="badge mock">Mock</span><canvas id="agentChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸŽ¨ Image Generation</h2><span class="badge mock">Mock</span><canvas id="imageChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸŽ¥ Video Generation</h2><span class="badge mock">Mock</span><canvas id="videoChart" height="200"></canvas></div>
    <div class="card"><h2>ðŸ“¦ Robotics</h2><span class="badge mock">Mock</span><canvas id="roboticsChart" height="200"></canvas></div>
  </div>

  <script>
    const makeChart = (id, labels, scores, color) => {
      new Chart(document.getElementById(id), {
        type: 'bar',
        data: {
          labels: labels,
          datasets: [{ label: 'Score', data: scores, backgroundColor: color }]
        },
        options: {
          indexAxis: 'y',
          scales: { x: { beginAtZero: true, max: 100 } },
          plugins: { legend: { display: false } }
        }
      });
    };

    // LLM chart from live API
    fetch('/api/llm')
      .then(res => res.json())
      .then(data => {
        makeChart('llmChart', data.models, data.scores, '#4fc3f7');
        document.getElementById('llmBadge').innerText = 'Live';
        document.getElementById('llmBadge').classList.remove('mock');
      })
      .catch(err => {
        console.error('LLM fetch failed, fallback to mock', err);
        makeChart('llmChart', ['GPT-4o', 'Claude 3.5', 'Gemini 1.5 Pro', 'DeepSeek-V2', 'Command R+'], [95, 93, 91, 89, 87], '#4fc3f7');
        document.getElementById('llmBadge').innerText = 'Mock';
        document.getElementById('llmBadge').classList.add('mock');
      });

    // All others = mock for now
    makeChart('reasoningChart', ['Gemini 2.5', 'GPT-4o', 'Claude Opus', 'Yi-1.5', 'Mistral-MoE'], [21.6, 20.3, 10.7, 9.8, 7.9], '#ffb74d');
    makeChart('codingChart', ['Claude Opus', 'o1-mini', 'Grok 4', 'GPT-4 Turbo', 'StarCoder2'], [88.2, 84.2, 81.9, 80.5, 77.0], '#81c784');
    makeChart('agentChart', ['Toolformer', 'Auto-GPT', 'GPT-Engineer', 'OpenDevin', 'Agent-1.5'], [62.3, 55.1, 59.2, 53.8, 51.6], '#ba68c8');
    makeChart('imageChart', ['Janus Pro', 'DALLÂ·E 3', 'SDXL Turbo', 'Playground V2.5', 'BlueWillow'], [89.2, 84.3, 80.1, 78.9, 75.2], '#f06292');
    makeChart('videoChart', ['Sora (GPT-4V)', 'Pika Labs', 'Runway Gen-3', 'Dream Machine', 'Moonvalley'], [82.4, 76.9, 71.2, 68.5, 64.8], '#9575cd');
    makeChart('roboticsChart', ['RoboCat', 'RT-2', 'SayCan', 'PaLM-E', 'Open-X Embodied'], [45.3, 42.1, 38.6, 36.7, 34.4], '#7986cb');
  </script>
</body>
</html>
