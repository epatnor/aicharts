<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AICharts ‚Äì Live Benchmarks</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header>
    <h1>üìä AICharts ‚Äì Live AI Benchmarks</h1>
    <p class="subtitle">Tracking the top-performing models across disciplines in real-time.</p>
  </header>

  <main class="container">
    <section class="card" id="generalCard">
      <h2>üåê General <span class="badge" id="generalBadge">Loading...</span></h2>
      <div id="generalList"></div>
      <p class="description">Overall conversational capabilities across general chat benchmarks.</p>
    </section>

    <section class="card" id="reasoningCard">
      <h2>üìö Reasoning <span class="badge" id="reasoningBadge">Loading...</span></h2>
      <div id="reasoningList"></div>
      <p class="description">Performance in logical and multi-step reasoning tasks like GPQA and ARC.</p>
    </section>

    <section class="card" id="mathCard">
      <h2>üßÆ Math (AIME) <span class="badge" id="mathBadge">Loading...</span></h2>
      <div id="mathList"></div>
      <p class="description">Math problem-solving using AIME-like questions. Tests symbolic reasoning and accuracy.</p>
    </section>

    <section class="card" id="codingCard">
      <h2>üíª Coding (SWE Bench) <span class="badge" id="codingBadge">Loading...</span></h2>
      <div id="codingList"></div>
      <p class="description">Code generation benchmarks such as HumanEval, SWE Bench, and LiveCode.</p>
    </section>

    <section class="card" id="tooluseCard">
      <h2>ü§ñ Tool Use (BFCL) <span class="badge" id="tooluseBadge">Loading...</span></h2>
      <div id="tooluseList"></div>
      <p class="description">Tool-augmented performance in real-world tasks, such as planning and API calls.</p>
    </section>
  </main>

  <footer>
    <p class="footer-note">Updated daily ‚Ä¢ Mock values shown if live data fails</p>
  </footer>

  <script>
    const logoMap = {
      "GPT-4o": "openai.png",
      "GPT-4 Turbo": "openai.png",
      "GPT-4-Opus": "openai.png",
      "Claude 3.5": "anthropic.png",
      "Claude Opus": "anthropic.png",
      "Claude 3 Opus": "anthropic.png",
      "Gemini 1.5": "google-color.png",
      "Gemini 2.5": "google-color.png",
      "DeepSeek": "deepseek-color.png",
      "Command R+": "artificial-intelligence.png",   // fallback
      "Yi-1.5": "artificial-intelligence.png",        // fallback
      "Mistral-MoE": "mistral-color.png",
      "o1-mini": "artificial-intelligence.png",       // fallback
      "StarCoder2": "artificial-intelligence.png",    // fallback
      "Grok 4": "xai.png",
      "Grok 1.5": "xai.png"
    };


    function renderBarList(containerId, models, scores) {
      const container = document.getElementById(containerId);
      container.innerHTML = models.map((model, i) => {
        const score = scores[i];
        let logo = logoMap[model];
        if (!logo) {
          console.warn("‚ö†Ô∏è Saknar logga f√∂r modell:", model);
          logo = "artificial-intelligence.png";
        }
        return `
          <div class="model-row">
            <div class="model-info">
              <img src="/static/${logo}" alt="">
              <span>${model}</span>
            </div>
            <div class="model-bar">
              <div class="bar-fill" style="width:${score}%"></div>
              <div class="bar-score">${score}</div>
            </div>
          </div>
        `;
      }).join("");
    }


    async function loadDiscipline(name, endpoint, badgeId, listId) {
      try {
        const res = await fetch(endpoint);
        const data = await res.json();
        renderBarList(listId, data.models, data.scores);
        document.getElementById(badgeId).innerText = 'Live';
        document.getElementById(badgeId).classList.remove('mock');
      } catch (err) {
        console.error(`Fetch failed for ${name}:`, err);
        document.getElementById(badgeId).innerText = 'Mock';
        document.getElementById(badgeId).classList.add('mock');
      }
    }

    loadDiscipline('general', '/api/general', 'generalBadge', 'generalList');
    loadDiscipline('reasoning', '/api/reasoning', 'reasoningBadge', 'reasoningList');
    loadDiscipline('math', '/api/math', 'mathBadge', 'mathList');
    loadDiscipline('coding', '/api/coding', 'codingBadge', 'codingList');
    loadDiscipline('tooluse', '/api/tooluse', 'tooluseBadge', 'tooluseList');
  </script>
</body>
</html>
