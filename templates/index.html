<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AICharts â€“ Live Benchmarks</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header>
    <h1>ğŸ“Š AICharts â€“ Live AI Benchmarks</h1>
    <p class="subtitle">Tracking the top-performing models across disciplines in real-time.</p>
  </header>

  <main class="container">
    <section class="card" id="generalCard">
      <h2>ğŸŒ General <span class="badge" id="generalBadge">Loading...</span></h2>
      <div id="generalList"></div>
      <p class="description">Overall conversational capabilities across general chat benchmarks.</p>
    </section>

    <section class="card" id="reasoningCard">
      <h2>ğŸ“š Reasoning <span class="badge" id="reasoningBadge">Loading...</span></h2>
      <div id="reasoningList"></div>
      <p class="description">Performance in logical and multi-step reasoning tasks like GPQA and ARC.</p>
    </section>

    <section class="card" id="mathCard">
      <h2>ğŸ§® Math (AIME) <span class="badge" id="mathBadge">Loading...</span></h2>
      <div id="mathList"></div>
      <p class="description">Math problem-solving using AIME-like questions. Tests symbolic reasoning and accuracy.</p>
    </section>

    <section class="card" id="codingCard">
      <h2>ğŸ’» Coding (SWE Bench) <span class="badge" id="codingBadge">Loading...</span></h2>
      <div id="codingList"></div>
      <p class="description">Code generation benchmarks such as HumanEval, SWE Bench, and LiveCode.</p>
    </section>

    <section class="card" id="tooluseCard">
      <h2>ğŸ¤– Tool Use (BFCL) <span class="badge" id="tooluseBadge">Loading...</span></h2>
      <div id="tooluseList"></div>
      <p class="description">Tool-augmented performance in real-world tasks, such as planning and API calls.</p>
    </section>
  </main>

  <footer>
    <p class="footer-note">Updated daily â€¢ Mock values shown if live data fails</p>
  </footer>

  <script>
    // Automatisk logotypdetektering baserat pÃ¥ modellnamn
    function detectCompany(modelName) {
      const name = modelName.toLowerCase();
      if (name.includes("gpt") || name.includes("openai")) return "openai.png";
      if (name.includes("gemini") || name.includes("bard") || name.includes("google")) return "google-color.png";
      if (name.includes("claude") || name.includes("anthropic")) return "anthropic.png";
      if (name.includes("grok") || name.includes("xai")) return "xai.png";
      if (name.includes("mistral") || name.includes("mixtral")) return "mistral-color.png";
      if (name.includes("llama") || name.includes("meta")) return "meta-brand-color.png";
      if (name.includes("command") || name.includes("cohere")) return "cohere.png";
      if (name.includes("qwen") || name.includes("tiangong") || name.includes("alibaba")) return "alibaba-brand.png";
      if (name.includes("yi") || name.includes("01-ai")) return "yi-color.png";
      if (name.includes("deepseek")) return "deepseek-color.png";
      return "artificial-intelligence.png"; // fallback
    }

    // Rendera modeller med autodetekterade loggor
    function renderBarList(containerId, models, scores) {
      const container = document.getElementById(containerId);
      container.innerHTML = models.map((model, i) => {
        const score = scores[i];
        const logo = detectCompany(model);
        return `
          <div class="model-row">
            <div class="model-info">
              <img src="/static/${logo}" alt="">
              <span>${model}</span>
            </div>
            <div class="model-bar">
              <div class="bar-fill" style="width:${score}%"></div>
              <div class="bar-score">${score}</div>
            </div>
          </div>
        `;
      }).join("");
    }

    // HÃ¤mtar varje disciplin
    async function loadDiscipline(name, endpoint, badgeId, listId) {
      try {
        const res = await fetch(endpoint);
        const data = await res.json();
        renderBarList(listId, data.models, data.scores);
        document.getElementById(badgeId).innerText = 'Live';
        document.getElementById(badgeId).classList.remove('mock');
      } catch (err) {
        console.error(`Fetch failed for ${name}:`, err);
        document.getElementById(badgeId).innerText = 'Mock';
        document.getElementById(badgeId).classList.add('mock');
      }
    }

    // Init
    loadDiscipline('general', '/api/general', 'generalBadge', 'generalList');
    loadDiscipline('reasoning', '/api/reasoning', 'reasoningBadge', 'reasoningList');
    loadDiscipline('math', '/api/math', 'mathBadge', 'mathList');
    loadDiscipline('coding', '/api/coding', 'codingBadge', 'codingList');
    loadDiscipline('tooluse', '/api/tooluse', 'tooluseBadge', 'tooluseList');
  </script>
</body>
</html>
